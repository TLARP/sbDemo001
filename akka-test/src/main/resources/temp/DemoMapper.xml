<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="${namespace}">
    <resultMap id="BaseResultMap" type="${type}">
        <#list propertiesList as p>
        <#if p.column== "id">
        <id column="id" property="id" jdbcType="BIGINT"/>
        <#else>
        <result column="${p.column}" property="${p.property}" jdbcType="${p.jdbcType}"/>
        </#if>
        </#list>
    </resultMap>

    <delete id="deleteByPrimaryKeySelective" parameterType="java.lang.Integer">
      delete from `${tableName}`  where id = ${r'#{id}'}
    </delete>

    <insert id="insert" parameterType="${type}">
    insert into `${tableName}` (
        id<#list propertiesList as p><#if p.column== "id"><#else>,${p.column}</#if></#list>
        )
    values (
        seq<#list propertiesList as p><#if p.column== "id"><#else>,${r'#{'}${p.property},jdbcType=${p.jdbcType}${r'}'}</#if></#list>
    )
    </insert>

    <update id="updateByPrimaryKeySelective" parameterType="com.netease.kaola.generic.element.model.babyplan.BabyArticle">
        update `${tableName}`
        <set>
            <#list propertiesList as p><#if p.column== "id"><#else>
            <if test="${p.property} != null">
                p.column =${r'#{'}  ${p.property},jdbcType=${p.jdbcType}},
            </if>
            </#if></#list>
        </set>
        where id =  ${r'#{id}'}
    </update>


        <!--建表SQL-->
        CREATE TABLE `${tableName}` (
        `id` bigint(20) NOT NULL COMMENT '主键',
<#list propertiesList as p>
<#if p.column== "id">
<#else>
        `${p.column}`  <#if p.jdbcType=="VARCHAR" > varchar(256) <#elseif p.jdbcType=="INTEGER"> int(10) <#elseif p.jdbcType=="BIGINT">bigint(20) <#elseif p.jdbcType=="TIMESTAMP">  timestamp   </#if>  NOT NULL COMMENT '备注',
        </#if>
        </#list>
        `db_create_author` varchar(64) DEFAULT NULL COMMENT '操作人',
        `db_create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
        `db_update_author` varchar(64) DEFAULT NULL COMMENT '编辑人',
        `db_update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
        PRIMARY KEY (`id`)
        ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='表注释' /* BF=id,POLICY=activity_multi,STARTID=1, ASSIGNIDTYPE=USB*/;

</mapper>